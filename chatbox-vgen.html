<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vgen Solutions Service Center</title>
  <script src="/_sdk/data_sdk.js"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <style>
        body {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #0a0a0a 0%, #b8860b 100%);
            height: 100%;
            overflow: hidden;
        }

        html {
            height: 100%;
        }

        .chat-container {
            height: 100%;
            display: flex;
            flex-direction: column;
            max-width: 600px;
            margin: 0 auto;
            background: #1a1a1a;
            box-shadow: 0 20px 40px rgba(237, 168, 0, 0.2);
            width: 100%;
        }

        .chat-header {
            background: linear-gradient(135deg, #EDA800 0%, #daa520 100%);
            color: #0a0a0a;
            padding: 16px 20px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(237, 168, 0, 0.3);
            flex-shrink: 0;
        }

        .company-name {
            font-size: 20px;
            font-weight: 700;
            margin: 0;
        }

        .welcome-text {
            font-size: 14px;
            opacity: 0.9;
            margin: 0 0 8px 0;
        }

        .status-indicator {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            font-size: 12px;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            background: #ffd700;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .messages-container {
            flex: 1;
            overflow-y: auto;
            padding: 16px;
            background: #0a0a0a;
            min-height: 0;
            display: flex;
            flex-direction: column;
            align-items: stretch;
            -webkit-overflow-scrolling: touch;
        }

        .message {
            margin-bottom: 16px;
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .message.user {
            display: flex;
            justify-content: flex-end;
        }

        .message.bot {
            display: flex;
            justify-content: flex-start;
        }

        .message-bubble {
            max-width: 85%;
            padding: 12px 16px;
            border-radius: 18px;
            word-wrap: break-word;
            word-break: break-word;
            position: relative;
        }

        .message.user .message-bubble {
            background: linear-gradient(135deg, #EDA800 0%, #daa520 100%);
            color: #0a0a0a;
            border-bottom-right-radius: 6px;
        }

        .message.bot .message-bubble {
            background: #1a1a1a;
            color: #f5e6d3;
            border: 1px solid #daa520;
            border-bottom-left-radius: 6px;
            box-shadow: 0 2px 8px rgba(237, 168, 0, 0.2);
        }

        .message-text {
            font-size: 14px;
            line-height: 1.4;
            margin: 0;
        }

        .message-time {
            font-size: 11px;
            opacity: 0.7;
            margin-top: 4px;
            text-align: right;
        }

        .message.bot .message-time {
            text-align: left;
        }

        .quick-replies {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 12px;
        }

        .quick-reply {
            background: #1a1a1a;
            border: 1px solid #daa520;
            border-radius: 20px;
            padding: 10px 14px;
            font-size: 13px;
            color: #f5e6d3;
            cursor: pointer;
            transition: all 0.2s;
            min-height: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            -webkit-tap-highlight-color: transparent;
        }

        .quick-reply:hover {
            background: linear-gradient(135deg, #EDA800 0%, #daa520 100%);
            color: #0a0a0a;
            border-color: #ffd700;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(237, 168, 0, 0.3);
        }

        .typing-indicator {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px 16px;
            background: #1a1a1a;
            border: 1px solid #daa520;
            border-radius: 18px;
            border-bottom-left-radius: 6px;
            max-width: 80px;
            box-shadow: 0 2px 8px rgba(237, 168, 0, 0.2);
        }

        .typing-dots {
            display: flex;
            gap: 4px;
        }

        .typing-dot {
            width: 6px;
            height: 6px;
            background: #daa520;
            border-radius: 50%;
            animation: typing 1.4s infinite;
        }

        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typing {
            0%, 60%, 100% {
                transform: translateY(0);
            }
            30% {
                transform: translateY(-10px);
            }
        }

        .bot-avatar {
            width: 32px;
            height: 32px;
            background: transparent;
            border-radius: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #0a0a0a;
            font-size: 16px;
            margin-right: 8px;
            flex-shrink: 0;
        }

        .bot-avatar img,
        .header-logo {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .error-message {
            background: #fef2f2;
            color: #dc2626;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 16px;
            font-size: 14px;
            border: 1px solid #fecaca;
        }

        @media (max-width: 768px) {
            .chat-container {
                height: 100%;
                box-shadow: none;
                border-radius: 0;
            }
            
            .chat-header {
                padding: 12px 16px;
            }
            
            .company-name {
                font-size: 18px;
            }
            
            .welcome-text {
                font-size: 13px;
            }
            
            .status-indicator {
                font-size: 11px;
            }
            
            .messages-container {
                padding: 12px;
            }
            
            .message-bubble {
                max-width: 90%;
                padding: 10px 14px;
            }
            
            .message-text {
                font-size: 14px;
                line-height: 1.5;
            }
            
            .quick-replies {
                gap: 6px;
                margin-top: 10px;
            }
            
            .quick-reply {
                padding: 8px 12px;
                font-size: 12px;
                min-height: 40px;
                border-radius: 16px;
            }
            
            .bot-avatar {
                width: 28px;
                height: 28px;
                margin-right: 6px;
            }

            .header-logo {
                width: 28px;
                height: 28px;
            }
            
            .typing-indicator {
                padding: 10px 14px;
                max-width: 70px;
            }
            
            .typing-dot {
                width: 5px;
                height: 5px;
            }
        }
        
        @media (max-width: 480px) {
            .chat-header {
                padding: 10px 12px;
            }
            
            .company-name {
                font-size: 16px;
                margin-bottom: 4px;
            }
            
            .welcome-text {
                font-size: 12px;
                margin-bottom: 6px;
            }
            
            .messages-container {
                padding: 8px;
            }
            
            .message-bubble {
                max-width: 95%;
                padding: 8px 12px;
            }
            
            .message-text {
                font-size: 13px;
            }
            
            .quick-reply {
                padding: 6px 10px;
                font-size: 11px;
                min-height: 36px;
                border-radius: 14px;
            }
            
            .bot-avatar {
                width: 24px;
                height: 24px;
                margin-right: 4px;
            }

            .header-logo {
                width: 24px;
                height: 24px;
            }
            
            .message-time {
                font-size: 10px;
            }
        }
    </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body>
  <div class="chat-container">
   <header class="chat-header">
    <div style="display: flex; align-items: center; justify-content: center; gap: 0.75rem;">
     <img src="media/logos/logo.png" alt="Vgen Logo" class="header-logo" style="width: 32px; height: 32px;">
     <h1 class="company-name" id="companyName">Vgen Solutions Assistant</h1>
    </div>
   </header>
   <main class="messages-container" id="messagesContainer">
    <div class="message bot">
     <div class="bot-avatar">
      <img src="media/logos/logo.png" alt="Vgen Logo">
     </div>
     <div class="message-bubble">
      <p class="message-text">Welcome to Vgen Solutions! We focus on small and medium businesses, providing dedicated support to help you grow together. How can I assist you today?</p>
      <div class="quick-replies" id="mainButtons">
       <div class="quick-reply" onclick="handleButtonClick('business_info', 'Tell me about Vgen Solutions')">
        Business Info
       </div>
       <div class="quick-reply" onclick="handleButtonClick('services_menu', 'What services do you offer?')">
        Services
       </div>
       <div class="quick-reply" onclick="handleButtonClick('products_menu', 'What products do you have?')">
        Products
       </div>
       <div class="quick-reply" onclick="handleButtonClick('faqs_menu', 'I have questions')">
        FAQs
       </div>
       <div class="quick-reply" onclick="handleButtonClick('contact', 'How can I contact you?')">
        Contact Us
       </div>
      </div>
     </div>
    </div>
   </main>
  </div>
  <script>
        // Configuration
        const defaultConfig = {
            company_name: "Vgen Solutions Assistant",
            welcome_message: "",
            business_hours: "",
            contact_info: "contact@vgensolutions.com",
            background_color: "#0a0a0a",
            surface_color: "#1a1a1a",
            text_color: "#f5e6d3",
            primary_action_color: "#EDA800",
            secondary_action_color: "#daa520",
            font_family: "Inter",
            font_size: 14
        };

        let conversations = [];
        let isLoading = false;
        let isTyping = false;

        // Comprehensive Vgen Solutions knowledge base
        const knowledgeBase = {
            'business_info': {
                response: "About Vgen Solutions<br><br>Vgen Solutions is a digital marketing and technology solutions provider specializing in helping small and medium businesses succeed online. We offer professional services at affordable prices, with flexible solutions tailored to your budget.<br><br><strong>Location:</strong> Subec Pagudpud Ilocos Norte 2919 Philippines (Operating remotely to support clients globally)<br><br><strong>Contact Information:</strong><br>‚Ä¢ Email: contact@vgensolutions.com<br>‚Ä¢ Phone: +60 11-2301 4446<br><br><strong>Business Hours:</strong> We operate remotely and are available for consultations by appointment. Contact us to schedule a meeting at your convenience.",
                buttons: [
                    { text: "Services", action: "services_menu" },
                    { text: "Products", action: "products_menu" },
                    { text: "FAQs", action: "faqs_menu" },
                    { text: "Back to Main Menu", action: "main" }
                ]
            },
            'services_menu': {
                response: "Our Services<br><br>What would you like to know about?",
                buttons: [
                    { text: "Email Setup & Management", action: "service_email" },
                    { text: "Web Development", action: "service_web" },
                    { text: "Digital Advertising", action: "service_ads" },
                    { text: "Growth Strategy", action: "service_growth" },
                    { text: "AI Content Generation", action: "service_ai" },
                    { text: "Headless Automations", action: "service_automation" },
                    { text: "HR Solutions", action: "service_hr" },
                    { text: "Advanced HTML Integration", action: "service_html" },
                    { text: "Back to Main Menu", action: "main" }
                ]
            },
            'service_email': {
                response: "Email Setup & Management<br><br>Professional email solutions with custom domains and advanced security.",
                buttons: [
                    { text: "View All Services", action: "services_menu" },
                    { text: "Contact Us", action: "contact" },
                    { text: "Back to Main Menu", action: "main" }
                ]
            },
            'service_web': {
                response: "Web Development<br><br>Custom websites and web applications built with modern technologies.",
                buttons: [
                    { text: "View All Services", action: "services_menu" },
                    { text: "Contact Us", action: "contact" },
                    { text: "Back to Main Menu", action: "main" }
                ]
            },
            'service_ads': {
                response: "Digital Advertising<br><br>Strategic ad campaigns across Meta, Google, and other platforms.",
                buttons: [
                    { text: "View All Services", action: "services_menu" },
                    { text: "Contact Us", action: "contact" },
                    { text: "Back to Main Menu", action: "main" }
                ]
            },
            'service_growth': {
                response: "Growth Strategy<br><br>Data-driven strategies to scale your business and increase revenue.",
                buttons: [
                    { text: "View All Services", action: "services_menu" },
                    { text: "Contact Us", action: "contact" },
                    { text: "Back to Main Menu", action: "main" }
                ]
            },
            'service_ai': {
                response: "AI Content Generation<br><br>Automated content creation powered by advanced AI technology.",
                buttons: [
                    { text: "View All Services", action: "services_menu" },
                    { text: "Contact Us", action: "contact" },
                    { text: "Back to Main Menu", action: "main" }
                ]
            },
            'service_automation': {
                response: "Headless Automations<br><br>Intelligent browser automation for repetitive tasks and workflows.",
                buttons: [
                    { text: "View All Services", action: "services_menu" },
                    { text: "Contact Us", action: "contact" },
                    { text: "Back to Main Menu", action: "main" }
                ]
            },
            'service_hr': {
                response: "HR Solutions<br><br>Expert local and international labor law consultation and comprehensive HR documentation services.",
                buttons: [
                    { text: "View All Services", action: "services_menu" },
                    { text: "Contact Us", action: "contact" },
                    { text: "Back to Main Menu", action: "main" }
                ]
            },
            'service_html': {
                response: "Advanced HTML Integration<br><br>Professional email HTML templates and custom web integration with responsive designs, formatting, and seamless image integration.",
                buttons: [
                    { text: "View All Services", action: "services_menu" },
                    { text: "Contact Us", action: "contact" },
                    { text: "Back to Main Menu", action: "main" }
                ]
            },
            'products_menu': {
                response: "Our Products<br><br>What would you like to learn about?",
                buttons: [
                    { text: "Custom Website Packages", action: "product_websites" },
                    { text: "Email Marketing Templates", action: "product_email_templates" },
                    { text: "Automation Bundles", action: "product_automation" },
                    { text: "Digital Marketing Courses", action: "product_courses" },
                    { text: "HR Documentation Templates", action: "product_hr_docs" },
                    { text: "Back to Main Menu", action: "main" }
                ]
            },
            'product_websites': {
                response: "Custom Website Packages<br><br>Professional website development packages tailored to your business needs, from landing pages to full e-commerce solutions.",
                buttons: [
                    { text: "View All Products", action: "products_menu" },
                    { text: "Contact Us", action: "contact" },
                    { text: "Back to Main Menu", action: "main" }
                ]
            },
            'product_email_templates': {
                response: "Email Marketing Templates<br><br>Pre-designed, customizable email templates for newsletters, promotions, and automated campaigns.",
                buttons: [
                    { text: "View All Products", action: "products_menu" },
                    { text: "Contact Us", action: "contact" },
                    { text: "Back to Main Menu", action: "main" }
                ]
            },
            'product_automation': {
                response: "Automation Bundles<br><br>Ready-to-deploy automation solutions for common business tasks like data entry, reporting, and social media management.",
                buttons: [
                    { text: "View All Products", action: "products_menu" },
                    { text: "Contact Us", action: "contact" },
                    { text: "Back to Main Menu", action: "main" }
                ]
            },
            'product_courses': {
                response: "Digital Marketing Courses<br><br>Self-paced training courses and resources to help you master digital marketing strategies for your business.",
                buttons: [
                    { text: "View All Products", action: "products_menu" },
                    { text: "Contact Us", action: "contact" },
                    { text: "Back to Main Menu", action: "main" }
                ]
            },
            'product_hr_docs': {
                response: "HR Documentation Templates<br><br>Professional HR templates including employment contracts, handbooks, and policy documents compliant with labor laws.",
                buttons: [
                    { text: "View All Products", action: "products_menu" },
                    { text: "Contact Us", action: "contact" },
                    { text: "Back to Main Menu", action: "main" }
                ]
            },
            'faqs_menu': {
                response: "Frequently Asked Questions<br><br>What would you like to know?",
                buttons: [
                    { text: "What services do you offer?", action: "faq_1" },
                    { text: "Do you work with small businesses?", action: "faq_2" },
                    { text: "How is your pricing structured?", action: "faq_3" },
                    { text: "Can you work within my budget?", action: "faq_4" },
                    { text: "More Questions", action: "faqs_menu_2" },
                    { text: "Back to Main Menu", action: "main" }
                ]
            },
            'faqs_menu_2': {
                response: "More Frequently Asked Questions<br><br>What would you like to know?",
                buttons: [
                    { text: "How long does a project take?", action: "faq_5" },
                    { text: "Do I need technical knowledge?", action: "faq_6" },
                    { text: "Professional email benefits?", action: "faq_7" },
                    { text: "Website improvement help?", action: "faq_8" },
                    { text: "More Questions", action: "faqs_menu_3" },
                    { text: "Back to FAQs", action: "faqs_menu" },
                    { text: "Back to Main Menu", action: "main" }
                ]
            },
            'faqs_menu_3': {
                response: "Additional Frequently Asked Questions<br><br>What would you like to know?",
                buttons: [
                    { text: "Website ranking on Google?", action: "faq_9" },
                    { text: "Meta Ads vs Google Ads?", action: "faq_10" },
                    { text: "Advertising budget?", action: "faq_11" },
                    { text: "Immediate advertising results?", action: "faq_12" },
                    { text: "More Questions", action: "faqs_menu_4" },
                    { text: "Back to FAQs", action: "faqs_menu" },
                    { text: "Back to Main Menu", action: "main" }
                ]
            },
            'faqs_menu_4': {
                response: "More Frequently Asked Questions<br><br>What would you like to know?",
                buttons: [
                    { text: "What is a growth strategy?", action: "faq_13" },
                    { text: "How does AI content work?", action: "faq_14" },
                    { text: "AI content quality?", action: "faq_15" },
                    { text: "What can automation handle?", action: "faq_16" },
                    { text: "More Questions", action: "faqs_menu_5" },
                    { text: "Back to FAQs", action: "faqs_menu" },
                    { text: "Back to Main Menu", action: "main" }
                ]
            },
            'faqs_menu_5': {
                response: "Additional Frequently Asked Questions<br><br>What would you like to know?",
                buttons: [
                    { text: "Automation maintenance?", action: "faq_17" },
                    { text: "Ongoing support offered?", action: "faq_18" },
                    { text: "What industries do you serve?", action: "faq_19" },
                    { text: "Help for new businesses?", action: "faq_20" },
                    { text: "More Questions", action: "faqs_menu_6" },
                    { text: "Back to FAQs", action: "faqs_menu" },
                    { text: "Back to Main Menu", action: "main" }
                ]
            },
            'faqs_menu_6': {
                response: "Final Frequently Asked Questions<br><br>What would you like to know?",
                buttons: [
                    { text: "How do I get started?", action: "faq_21" },
                    { text: "Not satisfied with results?", action: "faq_22" },
                    { text: "Payment plans available?", action: "faq_23" },
                    { text: "Why choose Vgen Solutions?", action: "faq_24" },
                    { text: "Back to FAQs", action: "faqs_menu" },
                    { text: "Back to Main Menu", action: "main" }
                ]
            },
            'faq_1': {
                response: "What services do you offer?<br><br>We offer email setup & management, custom web development, digital advertising (Meta & Google Ads), growth strategy consulting, AI content generation, and headless browser automation solutions.",
                buttons: [
                    { text: "View Services", action: "services_menu" },
                    { text: "More FAQs", action: "faqs_menu" },
                    { text: "Back to Main Menu", action: "main" }
                ]
            },
            'faq_2': {
                response: "Do you work with small businesses and startups?<br><br>Absolutely! Vgen Solutions specializes in supporting small and medium businesses. We understand budget constraints and work with you to create affordable solutions that don't compromise on quality. We customize everything to fit your budget while delivering the same results as expensive agencies.",
                buttons: [
                    { text: "More FAQs", action: "faqs_menu" },
                    { text: "Contact Us", action: "contact" },
                    { text: "Back to Main Menu", action: "main" }
                ]
            },
            'faq_3': {
                response: "How is your pricing structured?<br><br>We believe affordability is crucial for growing businesses. Our pricing is completely flexible and customized to your budget. We'll work with you to find solutions that fit your financial situation without sacrificing quality or results. Every business is different, so we tailor packages specifically for you.",
                buttons: [
                    { text: "More FAQs", action: "faqs_menu" },
                    { text: "Contact Us", action: "contact" },
                    { text: "Back to Main Menu", action: "main" }
                ]
            },
            'faq_4': {
                response: "Can you work within my limited budget?<br><br>Yes! We're here to help small businesses succeed, regardless of budget size. We'll find creative ways to deliver maximum value within your constraints. Our goal is to move mountains for you, not break your bank. Quality and affordability can coexist‚Äîit's all about smart execution.",
                buttons: [
                    { text: "More FAQs", action: "faqs_menu" },
                    { text: "Contact Us", action: "contact" },
                    { text: "Back to Main Menu", action: "main" }
                ]
            },
            'faq_5': {
                response: "How long does a typical project take?<br><br>Timelines vary by project: Email setups take 1-3 days, websites 2-8 weeks, ad campaigns launch within 1 week, and automation projects range from 1-4 weeks. We'll provide a detailed timeline during our consultation and work efficiently to meet your deadlines.",
                buttons: [
                    { text: "More FAQs", action: "faqs_menu_2" },
                    { text: "Contact Us", action: "contact" },
                    { text: "Back to Main Menu", action: "main" }
                ]
            },
            'faq_6': {
                response: "Do I need technical knowledge to work with you?<br><br>Not at all! We handle all the technical aspects and explain everything in simple terms. Our goal is to make technology accessible and easy for you. We'll guide you through every step and provide training so you feel confident managing your digital assets.",
                buttons: [
                    { text: "More FAQs", action: "faqs_menu_2" },
                    { text: "Contact Us", action: "contact" },
                    { text: "Back to Main Menu", action: "main" }
                ]
            },
            'faq_7': {
                response: "What makes your email setup different from free email services?<br><br>Professional email with your own domain (you@yourbusiness.com) builds trust and credibility. We set up secure, reliable email systems with advanced features, spam protection, and proper authentication. It's a small investment that makes a huge difference in how customers perceive your business.",
                buttons: [
                    { text: "More FAQs", action: "faqs_menu_2" },
                    { text: "Email Setup Service", action: "service_email" },
                    { text: "Back to Main Menu", action: "main" }
                ]
            },
            'faq_8': {
                response: "Can you help if I already have a website that needs improvement?<br><br>Absolutely! We can audit your existing website, identify issues, and make improvements. Whether it's speed optimization, design updates, mobile responsiveness, or adding new features‚Äîwe'll enhance what you have or rebuild if needed.",
                buttons: [
                    { text: "More FAQs", action: "faqs_menu_2" },
                    { text: "Web Development Service", action: "service_web" },
                    { text: "Back to Main Menu", action: "main" }
                ]
            },
            'faq_9': {
                response: "How do you ensure my website will rank on Google?<br><br>We build all websites with SEO best practices: fast loading speeds, mobile optimization, proper meta tags, structured data, and quality content. We also offer ongoing SEO services to improve rankings over time. Good SEO is a marathon, not a sprint, but we set you up for success from day one.",
                buttons: [
                    { text: "More FAQs", action: "faqs_menu_3" },
                    { text: "Web Development Service", action: "service_web" },
                    { text: "Back to Main Menu", action: "main" }
                ]
            },
            'faq_10': {
                response: "What's the difference between Meta Ads and Google Ads?<br><br>Meta Ads (Facebook/Instagram) are great for brand awareness and reaching people based on interests and behaviors. Google Ads capture people actively searching for your products/services. We'll recommend the best platform based on your goals, audience, and budget‚Äîor use both strategically.",
                buttons: [
                    { text: "More FAQs", action: "faqs_menu_3" },
                    { text: "Digital Advertising Service", action: "service_ads" },
                    { text: "Back to Main Menu", action: "main" }
                ]
            },
            'faq_11': {
                response: "How much should I spend on advertising?<br><br>Ad budgets vary widely based on your industry, goals, and competition. We work with businesses spending anywhere from small daily budgets to larger campaigns. We'll help you determine a realistic budget that can generate results and scale as you grow. Every dollar is optimized for maximum return.",
                buttons: [
                    { text: "More FAQs", action: "faqs_menu_3" },
                    { text: "Digital Advertising Service", action: "service_ads" },
                    { text: "Back to Main Menu", action: "main" }
                ]
            },
            'faq_12': {
                response: "Will I see immediate results from advertising?<br><br>Digital ads can generate traffic quickly, but optimal results take time. We typically see initial data within 1-2 weeks and meaningful results within 30-60 days as we optimize campaigns. We focus on sustainable, long-term growth rather than quick wins that don't last.",
                buttons: [
                    { text: "More FAQs", action: "faqs_menu_3" },
                    { text: "Digital Advertising Service", action: "service_ads" },
                    { text: "Back to Main Menu", action: "main" }
                ]
            },
            'faq_13': {
                response: "What is a growth strategy and do I need one?<br><br>A growth strategy is a roadmap for scaling your business. It identifies opportunities, prioritizes actions, and aligns your team toward clear goals. If you're feeling stuck, unsure where to focus, or ready to scale, a growth strategy provides clarity and direction to maximize your efforts.",
                buttons: [
                    { text: "More FAQs", action: "faqs_menu_4" },
                    { text: "Growth Strategy Service", action: "service_growth" },
                    { text: "Back to Main Menu", action: "main" }
                ]
            },
            'faq_14': {
                response: "How does AI content generation work?<br><br>We use advanced AI tools trained on your brand voice, industry, and audience. The AI generates blog posts, social media content, product descriptions, and more. Our team reviews and refines everything to ensure quality, accuracy, and authenticity. It's like having a content team working 24/7.",
                buttons: [
                    { text: "More FAQs", action: "faqs_menu_4" },
                    { text: "AI Content Service", action: "service_ai" },
                    { text: "Back to Main Menu", action: "main" }
                ]
            },
            'faq_15': {
                response: "Will AI-generated content sound robotic or generic?<br><br>Not when done right! We train AI models on your unique brand voice and style. Our team reviews and edits all content to ensure it sounds natural, engaging, and authentic. The result is high-quality content that resonates with your audience‚Äîat a fraction of the time and cost.",
                buttons: [
                    { text: "More FAQs", action: "faqs_menu_4" },
                    { text: "AI Content Service", action: "service_ai" },
                    { text: "Back to Main Menu", action: "main" }
                ]
            },
            'faq_16': {
                response: "What tasks can headless automation handle?<br><br>Headless automation can handle repetitive browser tasks: data entry, form submissions, web scraping, report generation, social media posting, inventory monitoring, lead generation, and more. If you're doing it manually in a browser repeatedly, we can probably automate it.",
                buttons: [
                    { text: "More FAQs", action: "faqs_menu_4" },
                    { text: "Automation Service", action: "service_automation" },
                    { text: "Back to Main Menu", action: "main" }
                ]
            },
            'faq_17': {
                response: "Is automation difficult to maintain?<br><br>Not with our support! We build robust automations that handle errors gracefully and adapt to changes. We provide ongoing monitoring and maintenance to ensure everything runs smoothly. You'll save time without worrying about technical issues.",
                buttons: [
                    { text: "More FAQs", action: "faqs_menu_5" },
                    { text: "Automation Service", action: "service_automation" },
                    { text: "Back to Main Menu", action: "main" }
                ]
            },
            'faq_18': {
                response: "Do you offer ongoing support after project completion?<br><br>Yes! We provide comprehensive support and maintenance packages for all services. This includes technical support, performance monitoring, updates, optimization, and troubleshooting. We're here for the long haul‚Äîyour success is our success.",
                buttons: [
                    { text: "More FAQs", action: "faqs_menu_5" },
                    { text: "Contact Us", action: "contact" },
                    { text: "Back to Main Menu", action: "main" }
                ]
            },
            'faq_19': {
                response: "What industries do you work with?<br><br>We work with businesses across all industries: e-commerce, professional services, healthcare, education, technology, retail, hospitality, real estate, and more. Our solutions are customized to meet the unique needs and regulations of each industry.",
                buttons: [
                    { text: "More FAQs", action: "faqs_menu_5" },
                    { text: "View Services", action: "services_menu" },
                    { text: "Back to Main Menu", action: "main" }
                ]
            },
            'faq_20': {
                response: "Can you help if I'm just starting my business?<br><br>Absolutely! We love working with new businesses. We'll help you establish a strong digital foundation from day one: professional email, website, branding, and marketing strategy. Starting right is easier and more affordable than fixing mistakes later. We're here to guide you every step of the way.",
                buttons: [
                    { text: "More FAQs", action: "faqs_menu_5" },
                    { text: "Contact Us", action: "contact" },
                    { text: "Back to Main Menu", action: "main" }
                ]
            },
            'faq_21': {
                response: "How do I get started?<br><br>Simply reach out via WhatsApp, email, or our contact form. We'll schedule a free consultation to understand your needs, goals, and budget. Then we'll create a customized proposal that outlines exactly how we can help. No pressure, no obligations‚Äîjust honest advice and solutions.",
                buttons: [
                    { text: "More FAQs", action: "faqs_menu_6" },
                    { text: "Contact Us", action: "contact" },
                    { text: "Back to Main Menu", action: "main" }
                ]
            },
            'faq_22': {
                response: "What if I'm not satisfied with the results?<br><br>Your satisfaction is our priority. We work closely with you throughout every project, incorporating your feedback and making revisions until you're happy. We're committed to delivering results that exceed expectations. If something isn't working, we'll make it right.",
                buttons: [
                    { text: "More FAQs", action: "faqs_menu_6" },
                    { text: "Contact Us", action: "contact" },
                    { text: "Back to Main Menu", action: "main" }
                ]
            },
            'faq_23': {
                response: "Do you offer payment plans or flexible payment options?<br><br>Yes! We understand cash flow challenges for small businesses. We offer flexible payment plans and structures that work with your budget. Our goal is to make quality digital services accessible to everyone, not just businesses with large budgets. Let's discuss what works for you.",
                buttons: [
                    { text: "More FAQs", action: "faqs_menu_6" },
                    { text: "Contact Us", action: "contact" },
                    { text: "Back to Main Menu", action: "main" }
                ]
            },
            'faq_24': {
                response: "Why should I choose Vgen Solutions over other agencies?<br><br>We specialize in small and medium businesses. We're not a faceless agency‚Äîwe're your dedicated partner who genuinely cares about your success. We offer big-agency quality at small-business prices, with personalized attention and flexible solutions. We move mountains to help you grow, regardless of your budget.",
                buttons: [
                    { text: "Back to FAQs", action: "faqs_menu" },
                    { text: "Contact Us", action: "contact" },
                    { text: "Back to Main Menu", action: "main" }
                ]
            },
            'contact': {
                response: "Contact Information<br><br><strong>Email:</strong> contact@vgensolutions.com<br><strong>Phone:</strong> +60 11-2301 4446<br><strong>Address:</strong> Subec Pagudpud Ilocos Norte 2919 Philippines<br><br>We typically respond within 24 hours during business days. For urgent matters, please mention 'URGENT' in your subject line.<br><br>Operating remotely to support clients globally. Contact us to schedule a meeting at your convenience.",
                buttons: [
                    { text: "Business Info", action: "business_info" },
                    { text: "Services", action: "services_menu" },
                    { text: "Back to Main Menu", action: "main" }
                ]
            },
        };

        // DOM elements
        const messagesContainer = document.getElementById('messagesContainer');
        const companyName = document.getElementById('companyName');

        // Data SDK handler
        const dataHandler = {
            onDataChanged(data) {
                conversations = data.sort((a, b) => new Date(a.timestamp) - new Date(b.timestamp));
            }
        };

        // Element SDK implementation
        async function onConfigChange(config) {
            const company = config.company_name || defaultConfig.company_name;
            const bgColor = config.background_color || defaultConfig.background_color;
            const primaryColor = config.primary_action_color || defaultConfig.primary_action_color;
            const fontFamily = config.font_family || defaultConfig.font_family;
            const fontSize = config.font_size || defaultConfig.font_size;

            // Update text content
            if (companyName) {
                companyName.textContent = company;
            }

            // Update colors
            document.body.style.background = `linear-gradient(135deg, ${bgColor} 0%, #b8860b 100%)`;
            document.querySelector('.chat-header').style.background = `linear-gradient(135deg, ${primaryColor} 0%, ${config.secondary_action_color || defaultConfig.secondary_action_color} 100%)`;
            document.querySelector('.chat-header').style.color = bgColor;
            
            // Update font
            document.body.style.fontFamily = `${fontFamily}, -apple-system, BlinkMacSystemFont, sans-serif`;
            
            // Update font sizes proportionally
            if (companyName) {
                companyName.style.fontSize = `${fontSize * 1.4}px`;
            }
        }

        function mapToCapabilities(config) {
            return {
                recolorables: [
                    {
                        get: () => config.background_color || defaultConfig.background_color,
                        set: (value) => {
                            if (window.elementSdk) {
                                window.elementSdk.setConfig({ background_color: value });
                            }
                        }
                    },
                    {
                        get: () => config.surface_color || defaultConfig.surface_color,
                        set: (value) => {
                            if (window.elementSdk) {
                                window.elementSdk.setConfig({ surface_color: value });
                            }
                        }
                    },
                    {
                        get: () => config.text_color || defaultConfig.text_color,
                        set: (value) => {
                            if (window.elementSdk) {
                                window.elementSdk.setConfig({ text_color: value });
                            }
                        }
                    },
                    {
                        get: () => config.primary_action_color || defaultConfig.primary_action_color,
                        set: (value) => {
                            if (window.elementSdk) {
                                window.elementSdk.setConfig({ primary_action_color: value });
                            }
                        }
                    },
                    {
                        get: () => config.secondary_action_color || defaultConfig.secondary_action_color,
                        set: (value) => {
                            if (window.elementSdk) {
                                window.elementSdk.setConfig({ secondary_action_color: value });
                            }
                        }
                    }
                ],
                borderables: [],
                fontEditable: {
                    get: () => config.font_family || defaultConfig.font_family,
                    set: (value) => {
                        if (window.elementSdk) {
                            window.elementSdk.setConfig({ font_family: value });
                        }
                    }
                },
                fontSizeable: {
                    get: () => config.font_size || defaultConfig.font_size,
                    set: (value) => {
                        if (window.elementSdk) {
                            window.elementSdk.setConfig({ font_size: value });
                        }
                    }
                }
            };
        }

        function mapToEditPanelValues(config) {
            return new Map([
                ["company_name", config.company_name || defaultConfig.company_name],
                ["welcome_message", config.welcome_message || defaultConfig.welcome_message],
                ["business_hours", config.business_hours || defaultConfig.business_hours],
                ["contact_info", config.contact_info || defaultConfig.contact_info]
            ]);
        }

        // Utility functions
        function formatTime(timestamp) {
            const date = new Date(timestamp);
            return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
        }

        function showError(message) {
            const errorEl = document.createElement('div');
            errorEl.className = 'error-message';
            errorEl.textContent = message;
            messagesContainer.appendChild(errorEl);

            setTimeout(() => {
                if (errorEl.parentNode) {
                    errorEl.remove();
                }
            }, 5000);
        }

        async function saveConversation(category, question, answer) {
            if (conversations.length >= 999) {
                showError('Conversation limit reached. Please contact support directly.');
                return;
            }

            const conversation = {
                id: Date.now().toString() + Math.random().toString(36).substr(2, 9),
                question: question,
                answer: answer.replace(/<br>/g, ' '),
                timestamp: new Date().toISOString(),
                customer_name: 'Vgen Solutions Visitor',
                resolved: true
            };

            if (window.dataSdk) {
                const result = await window.dataSdk.create(conversation);
                if (!result.isOk) {
                    console.error('Failed to save conversation');
                }
            }
        }

        async function handleButtonClick(action, userMessage) {
            if (isLoading) return;
            
            // Add user message
            addMessage(userMessage, true);
            
            // Show typing indicator
            showTypingIndicator();
            
            // Wait for realistic response time
            await new Promise(resolve => setTimeout(resolve, 2000));
            
            // Hide typing indicator
            hideTypingIndicator();
            
            // Handle the action
            if (action === 'main') {
                showMainMenu();
            } else {
                showResponse(action, userMessage);
            }
        }

        function showMainMenu() {
            const mainMenuMessage = `
                <p class="message-text">Welcome to Vgen Solutions! We focus on small and medium businesses, providing dedicated support to help you grow together. How can I assist you today?</p>
                <div class="quick-replies">
                    <div class="quick-reply" onclick="handleButtonClick('business_info', 'Tell me about Vgen Solutions')">Business Info</div>
                    <div class="quick-reply" onclick="handleButtonClick('services_menu', 'What services do you offer?')">Services</div>
                    <div class="quick-reply" onclick="handleButtonClick('products_menu', 'What products do you have?')">Products</div>
                    <div class="quick-reply" onclick="handleButtonClick('faqs_menu', 'I have questions')">FAQs</div>
                    <div class="quick-reply" onclick="handleButtonClick('contact', 'How can I contact you?')">Contact Us</div>
                </div>
            `;
            
            addBotMessage(mainMenuMessage);
        }

        function showResponse(action, userMessage) {
            const category = knowledgeBase[action];
            if (!category) return;

            const config = window.elementSdk?.config || defaultConfig;
            let response = category.response
                .replace(/{business_hours}/g, config.business_hours || defaultConfig.business_hours)
                .replace(/{contact_info}/g, config.contact_info || defaultConfig.contact_info);

            // Create buttons HTML
            let buttonsHtml = '';
            if (category.buttons && category.buttons.length > 0) {
                buttonsHtml = '<div class="quick-replies">';
                category.buttons.forEach(button => {
                    const cleanText = button.text.replace(/[üè†üìßüïí‚öôÔ∏èüì¶‚Ü©Ô∏èüí≥üë§üîßüìãüìûüîêüóëÔ∏èüîÑüêõüíºüì¢ü§ñüìàüé®üöÄüîçüì∫üíºüìåüéµ‚ö°üìäüìùüéØüèÜüìòüíªüìåüéµüé®üó£Ô∏è‚≠êüíªüë•]/g, '').trim();
                    buttonsHtml += `<div class="quick-reply" onclick="handleButtonClick('${button.action}', '${cleanText}')">${cleanText}</div>`;
                });
                buttonsHtml += '</div>';
            }

            const fullMessage = `
                <p class="message-text">${response}</p>
                ${buttonsHtml}
            `;

            addBotMessage(fullMessage);
            
            // Save conversation
            saveConversation(action, userMessage, response.replace(/<br>/g, '\n'));
        }

        function addBotMessage(htmlContent) {
            const messageEl = document.createElement('div');
            messageEl.className = 'message bot';
            
            messageEl.innerHTML = `
                <div class="bot-avatar"><img src="media/logos/logo.png" alt="Vgen Logo"></div>
                <div class="message-bubble">
                    ${htmlContent}
                    <div class="message-time">${formatTime(new Date())}</div>
                </div>
            `;

            messagesContainer.appendChild(messageEl);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
            return messageEl;
        }

        function addMessage(text, isUser = false) {
            const messageEl = document.createElement('div');
            messageEl.className = `message ${isUser ? 'user' : 'bot'}`;
            
            const bubbleContent = isUser ? 
                `<div class="message-bubble">
                    <p class="message-text">${text}</p>
                    <div class="message-time">${formatTime(new Date())}</div>
                </div>` :
                `<div class="bot-avatar"><img src="media/logos/logo.png" alt="Vgen Logo"></div>
                <div class="message-bubble">
                    <p class="message-text">${text}</p>
                    <div class="message-time">${formatTime(new Date())}</div>
                </div>`;

            messageEl.innerHTML = bubbleContent;
            messagesContainer.appendChild(messageEl);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
            return messageEl;
        }

        function showTypingIndicator() {
            if (isTyping) return;
            isTyping = true;
            
            const typingEl = document.createElement('div');
            typingEl.className = 'message bot';
            typingEl.id = 'typing-indicator';
            
            typingEl.innerHTML = `
                <div class="bot-avatar"><img src="media/logos/logo.png" alt="Vgen Logo"></div>
                <div class="typing-indicator">
                    <div class="typing-dots">
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                    </div>
                </div>
            `;

            messagesContainer.appendChild(typingEl);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function hideTypingIndicator() {
            const typingEl = document.getElementById('typing-indicator');
            if (typingEl) {
                typingEl.remove();
            }
            isTyping = false;
        }

        // Global functions for button interactions
        window.handleButtonClick = handleButtonClick;

        // Initialize
        async function init() {
            try {
                if (window.dataSdk) {
                    const initResult = await window.dataSdk.init(dataHandler);
                    if (!initResult.isOk) {
                        showError('Failed to connect to support system. Please refresh the page.');
                    }
                }

                if (window.elementSdk) {
                    window.elementSdk.init({
                        defaultConfig,
                        onConfigChange,
                        mapToCapabilities,
                        mapToEditPanelValues
                    });
                }
            } catch (error) {
                showError('Failed to initialize chat system. Please refresh the page.');
            }
        }

        // Start the application
        init();
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'99ea10fef28cfd8d',t:'MTc2MzE2MDYxMi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>